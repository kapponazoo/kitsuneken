<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link rel="stylesheet" href="css/sample.css">
    <title>稲荷御殿</title>
</head>

<body>
    <header>
    <h1>稲荷御殿へようこそ</h1>
</header>
    <div id="wrap">
        <main id="container">  
        <section class="fixed">
        <div class="flex">
            <img src="">
        <p>ようこそお越しくださいました。</p>
        <p>お座敷遊びをごゆるりとお楽しみください。
        </p>
        <img src="./img/okami.png">
        <p>▽遊び方は画面をスクロールしてください▽</p>
        </section>
        <section class="fixed">
            <h2>きつね拳について</h2>
            <p>きつね拳はじゃんけんに似たルールです。</p>
            <p>正座して対座し、きつね・庄屋・猟師の三つの手を選びます。<br>「おししゃのしゃん」という掛け声で上半身でそれぞれのポーズを作ります。</p>
<ul class="howto"><li>
           
                    
           <h4>ポーズについて</h4>
           <table>
            <tr><td class="w30">きつね</td><td>両手で握り拳を作り、鉄砲を構えるように前後をずらして胸の前に構える。</td></tr>
            <tr><td>猟師</td><td>両手で握り拳を作り、鉄砲を構えるように前後をずらして胸の前に構える。</td></tr>
            <tr><td>庄屋</td><td>正座した膝の上に手を添える。</td></tr>
        </table>

                    <h4>判定ルールはこちらです</h4>
                    <table>
                        <tr><td class="w30">猟師 vs きつね</td><td>猟師は鉄砲できつねをし貯めることが出来るので猟師の勝ち</td></tr>
                        <tr><td>きつね vs 庄屋</td><td>きつねは庄屋を化かすことができるのできつねの勝ち</td></tr>
                        <tr><td>庄屋 vs 猟師</td><td>庄屋は猟師に税金を求めるので庄屋の勝ち</td></tr>
                    </table>
            </li>
            <li class="w30">
                <!-- <img src="../omikuji/img/card_bg.png" alt="画面"><br>-->
                 <img src="../omikuji/img/game_kitsuneken_janken.png"></li>
                 
</ul>
<p>▽それでは井成御前の間にご案内いたします▽</p>
        </section>
        <section class="fixed">
        <h2 id="call_01">あなたの手を選んでください</h2>
        
 
        <ul id="select_hand">
            <li id="syoya"><h4>庄屋</h4><img src="../omikuji/img/syoya.png" alt="庄屋"></li>
            <li id="kitsune"><h4>狐</h4><img src="../omikuji/img/kitsune.png" alt="狐"></li>
            <li id="ryoshi"><h4>猟師</h4><img src="../omikuji/img/ryoshi.png" alt="猟師"></li>
        </ul>


        <ul id="hand_set">
            <li id="my_card"><h4>あなた</h4><img src="../omikuji/img/card_bg.png" alt="自分のカード画面"></li>
            <li id="hand_set_msg"><h4>　</h4><img src="../omikuji/img/hand_set_msg.png" alt="自分のカード画面"></li>
            <li id="pc_card"><h4>衣成御前</h4><img src="../omikuji/img/card_bg.png" alt="衣成御前のカード画面"></li>
        </ul>
        <div id="card_ok_btn">
            <div class="btn-copy"><span id="my_hand_name"></span>でいいですか？</div>
             <span class="btn btn-c btn--black btn--cubic">決定です</span></div>
        <div id="judgment_btn">
            <div class="btn-copy">いざ勝負</div>
<span class="btn btn-c btn--black btn--cubic">おしゃしゃのしゃん♪</span>
</div>
<div id="reset_btn">        
<div class="btn-copy">まだまだ宵の口</div>
        <span class="btn btn-c btn--black btn--cubic">もう一度</span>
</div>     
        </section>
        </main>
    <footer></footer></div>
   
    <script>

// 紙芝居風エフェクト
$(window).on('load resize', function() {
  var windowWidth = window.innerWidth;
  var elements = $('.fixed');
  if (windowWidth >= 768) {
    Stickyfill.add(elements);
  }else{
    Stickyfill.remove(elements);
  } 
});


// 自分の手

let my_hand ="";
let my_hand_img ="";
let my_hand_name ="";
let my_hand_id ="";


$("#kitsune").on("click",function(){
    // alert("狐");
    my_hand_img ='<img src="../omikuji/img/kitsune.png">';
    my_hand_name ='狐';
    my_hand_id ='kitsune';
    $("#my_hand_name").html(my_hand_name); //htmlとして処理
    $("#my_hand_name").show(); 
})
$("#syoya").on("click",function(){
    // alert("庄屋");
    my_hand_img ='<img src="../omikuji/img/syoya.png">';
    my_hand_name ='庄屋';
    my_hand_id ='syoya';
    $("#my_hand_name").html(my_hand_name); //htmlとして処理
    $("#my_hand_name").show(); 
})
$("#ryoshi").on("click",function(){
    // alert("猟師");

    my_hand_img ='<img src="../omikuji/img/ryoshi.png">';
    my_hand_name ='猟師';
    my_hand_id ='ryoshi';
    $("#my_hand_name").html(my_hand_name); //htmlとして処理
    $("#my_hand_name").show(); 
})



// PCの手
let pc_hand = Math.ceil(Math.random()*3); 

      
let pc_hand_img ="";
let pc_hand_name ="";
let pc_hand_id ="";

if(pc_hand==1){
    pc_hand_img ='<img src="../omikuji/img/kitsune.png">';
    pc_hand_name ='狐';
    pc_hand_id ='kitsune';
}
if(pc_hand==2){
    pc_hand_img ='<img src="../omikuji/img/syoya.png">';
    pc_hand_name ='庄屋';
    pc_hand_id ='syoya';
}
if(pc_hand==3){
    pc_hand_img ='<img src="../omikuji/img/ryoshi.png">';
    pc_hand_name ='猟師';
    pc_hand_id ='ryoshi';
}

//カード選択
$("#select_hand").click(function(){
$("#card_ok_btn").show(); 
})
// カードセット

$("#card_ok_btn").click(function(){
    $("#select_hand").hide(); 
    $("#hand_set").show(); 
    $("#card_ok_btn").hide(); 
    $("#call_01").html("いざ勝負です！掛け声で札を開けましょう");
    $("#judgment_btn").show(); 
    pc_hand = Math.ceil(Math.random()*3);
    if(pc_hand==1){
    pc_hand_img ='<img src="../omikuji/img/kitsune.png">';
    pc_hand_name ='狐';
    pc_hand_id ='kitsune';
}
if(pc_hand==2){
    pc_hand_img ='<img src="../omikuji/img/syoya.png">';
    pc_hand_name ='庄屋';
    pc_hand_id ='syoya';
}
if(pc_hand==3){
    pc_hand_img ='<img src="../omikuji/img/ryoshi.png">';
    pc_hand_name ='猟師';
    pc_hand_id ='ryoshi';
} 
})


// 結果判定


$("#judgment_btn").click(function(){
    let judgment ="";
    let judgment_img ="";

if(my_hand_id==pc_hand_id){
    judgment ='あいこ';
    judgment_img ='<img src="../omikuji/img/draw.png">';
}else if(my_hand_id=="kitsune" && pc_hand_id=="syoya" ){
    judgment ='勝ち';
    judgment_img ='<img src="../omikuji/img/win.png">';

}else if(my_hand_id=="syoya" && pc_hand_id=="ryoshi" ){
    judgment ='勝ち';
    judgment_img ='<img src="../omikuji/img/win.png">';
}else if(my_hand_id=="ryoshi" && pc_hand_id=="kitsune" ){
    judgment ='勝ち';
    judgment_img ='<img src="../omikuji/img/win.png">';
}else{
    judgment ='負け',
    judgment_img ='<img src="../omikuji/img/lose.png">';
}


$("#call_01").html("結果は"+judgment);
$("#pc_card").html("<h4>衣成御前は『"+pc_hand_name+"』</h4>"+pc_hand_img); //htmlとして処理
$("#my_card").html("<h4>あなたは『"+my_hand_name+"』</h4>"+my_hand_img); //htmlとして処理
$("#hand_set_msg").html("<h4>　</h4>"+judgment_img); //htmlとして処理
$("#judgment").html(judgment); //htmlとして処理 
$("#judgment").show(); 
$("#judgment_btn").hide(); 
$("#reset_btn").show(); 

})


// reset


$("#reset_btn").click(function(){
$("#call_01").html("もう一勝負");   
$("#hand_set").hide(); 
$("#judgment").hide(); 
$("#my_hand_name").hide(); 
$("#judgment_btn").show(); 
$("#reset_btn").hide(); 
$("#judgment_btn").hide(); 

judgment_img ='<img src="../omikuji/img/hand_set_msg.png">';
pc_hand_img ='<img src="../omikuji/img/card_bg.png">';
my_hand_img ='<img src="../omikuji/img/card_bg.png">';

$("#my_card").html("<h4>あなた</h4>"+my_hand_img); //htmlとして処理
$("#hand_set_msg").html("<h4>　</h4>"+judgment_img); //htmlとして処理
$("#pc_card").html("<h4>衣成御前</h4>"+pc_hand_img); //htmlとして処理

pc_hand = Math.ceil(Math.random()*3); 
$("#select_hand").show(); 
})
    </script>


</body>

</html>